/*!
 * name: @feizheng/next-gm-xhr
 * description: GM_xmlhttpRequest for next.
 * homepage: https://github.com/afeiship/next-gm-xhr
 * version: 1.0.3
 * date: 2020-11-04T01:31:45.307Z
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),f=e.nx||require("@feizheng/next-js-core2"),p=f.DataTransform||require("@feizheng/next-data-transform"),n=f.AbstractRequest||require("@feizheng/next-abstract-request"),c=f.contentType||require("@feizheng/next-content-type"),m=f.deepAssign||require("@feizheng/next-deep-assign"),h=f.param||require("@feizheng/next-param"),t={dataType:"json",responseType:"json"},r=f.declare("nx.GmXhr",{extends:n,methods:{defaults:function(){return t},request:function(e,n,t,r){var o=f.mix(null,this.options,r),i="get"===e,u=i?null:p[o.dataType](t),s=i?h(t,n):n,a={"Content-Type":c(o.dataType)},d=m({method:e,data:u,headers:a},o);return new Promise(function(n,t){GM_xmlhttpRequest(f.mix({url:s,onload:function(e){n(e.response)},onerror:function(e){t(e)},onabort:function(e){t(e)},ontimeout:function(e){t(e)}},d))})}}});"undefined"!=typeof module&&module.exports&&(module.exports=r)}();