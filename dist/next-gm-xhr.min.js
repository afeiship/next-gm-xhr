/*!
 * name: @feizheng/next-gm-xhr
 * description: GM_xmlhttpRequest for next.
 * homepage: https://github.com/afeiship/next-gm-xhr
 * version: 1.0.0
 * date: 2020-07-07T06:23:21.879Z
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),f=e.nx||require("@feizheng/next-js-core2"),p=f.DataTransform||require("@feizheng/next-data-transform"),n=f.AbstractRequest||require("@feizheng/next-abstract-request"),m=f.contentType||require("@feizheng/next-content-type"),c=f.deepAssign||require("@feizheng/next-deep-assign"),h=f.param||require("@feizheng/next-param"),t={dataType:"json",responseType:"json"},r=f.declare("nx.GmXhr",{extends:n,methods:{defaults:function(){return t},request:function(e,n,t,r){var o=f.mix(null,this.options,r),i="get"===e,s=i?null:p[o.dataType](t),u=i?h(t,n):n,a={"Content-Type":m(o.dataType)},d=c({method:e,data:s,headers:a},o);return new Promise(function(n,t){GM_xmlhttpRequest(f.mix({url:u,onload:function(e){n(e.response)},onerror:function(e){t(e)},ontimeout:function(e){t(e)}},d))})}}});"undefined"!=typeof module&&module.exports&&(module.exports=r)}();